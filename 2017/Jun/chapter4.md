# 解析应用程序

## 枚举内容与功能

### Web抓取

常用工具： 

- Burp Suite
- WebScarab
- Zed Atttack Pro
- CAT

完全自动化枚举内容的局限性：

- 无法正确处理不常用的导航机制
- 无法抓取到隐藏在编译客户端对象中的链接
- 不能接受自动工具提交的值
- 自动化爬虫通常使用URL作为内容标识符

### 用户指定的抓取

渗透测试步骤：
1. 配置浏览器，设置本地代理服务器
2. 以常规方式浏览整个应用程序
3. 检查由代理服务器生产的站点地图
4. 使用工具枚举所有内容，主动抓取站点内容

### 发现隐藏的内容

没有直接链接、无法通过可见的主要内容访问的内容和功能

可能存在的重要内容和功能：

- 备份文件
- 完整的文件快照的备份档案
- 部署在服务器上，用于测试的功能
- 客户端不可见但服务器端存在的功能
- 配置文件
- 日志文件

发现隐藏内容的技巧

1. 蛮力技巧
2. 通过公布的内容进行推测
3. 利用公共信息
   - 搜索引擎
   - Web档案
   a 列出所发现的与目标应用程序及其开发相关的每一个姓名与电子邮件地址
   b 使用搜索技巧，搜索发现的每一个姓名，查找他们在网络上发表的问题和答案，分析有用信息
4. 利用web服务器

- 利用服务器软件的程序缺陷，wikto

### 应用程序页面与功能路径

### 发现隐藏的参数

## 分析应用程序

- 应用程序的核心功能
- 其他较为外围的应用程序行为，外链接、错误信息、管理与日志功能、重定向使用等
- 核心安全机制及其运作方式，特别是会话状态、访问控制及炎症机制与支持逻辑
- 应用程序处理用户提交的输入的所有不同位置
- 客户端使用的技术、包括表单、客户端脚本、厚客户端组件和cookie
- 服务器端使用的技术
- 任何可收集到的、关于服务器端应用程序内部结构与功能的其他信息

### 确定用户输入入口点

需要注意的有
- 每个URL字符串
- URL查询字符串中提交的每个参数
- POST请求主体中提交的每个参数
- 每个cookie
- 所有的HTTP消息头

1. URL文件路径
2. 请求参数
3. HTTP消息头
4. 带外通道
通过带外通道接受用户可控制的数据的web应用程序包括：
- 处理并显示通过SMTP接收到的电子邮件消息的web邮件应用程序
- 具有通过HTTP从其他服务器获取内容功能的发布应用程序
- 使用网络嗅探器收集数据并通过Web应用程序界面显示这些数据的入侵检测应用程序

### 确定服务器端技术

1. 提取版本信息
可能揭露的信息：
- 建立HTML页面的模板
- 定制的HTTP消息头
- URL查询字符串参数

2. HTTP指纹识别
工具：Httprecon

3. 文件扩展名
平台及对应编程语言
- asp —— Mifcrosoft Active Server Pages
- aspx —— Microsoft ASP.NET
- jsp —— java server pages
- cfm —— cold fusion
- php —— PHP语言
- d2w —— WebSphere
- pl —— Perl语言
- py —— Python语言
- nsf或ntf —— Lotus Domino

4. 目录名称
- servlet —— Java servlet
- pls —— oracle application server PL/SQL网关
- cfdocs或cfide —— Cold fusion
- SilverStream —— SilverStream Web服务器
- WebObjects —— Apple WebObjects
- rails —— Ruby on Rails

5. 会话令牌
- JSESSIONID —— java平台
- ASPSESSIONID —— Micfosoft ASP.NET
- CFID/CFTOKEN —— Cold Fusion
- PHPSESSID —— PHP

6. 第三方代码组件

### 确定服务器端功能

1. 仔细分析请求
2. 推测应用程序的行为
3. 隔离独特的应用程序行为

### 解析受攻击面
3. 隔离独特的应用程序行为

### 解析受攻击面
3. 隔离独特的应用程序行为

### 解析受攻击面
3. 隔离独特的应用程序行为

### 解析受攻击面

